!function(e){function t(t){for(var n,i,u=t[0],c=t[1],s=t[2],p=0,f=[];p<u.length;p++)i=u[p],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&f.push(a[i][0]),a[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);for(l&&l(t);f.length;)f.shift()();return o.push.apply(o,s||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,u=1;u<r.length;u++){var c=r[u];0!==a[c]&&(n=!1)}n&&(o.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},a={0:0},o=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var u=window.webpackJsonp=window.webpackJsonp||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var s=0;s<u.length;s++)t(u[s]);var l=c;o.push([99,1]),r()}({17:function(e,t,r){e.exports={CompletedQuiz:"CompletedQuiz__0b109fe",correct:"correct__2528c68",incorrect:"incorrect__df956d3",button:"button__067d6a4",results:"results__561e35e",result:"result__39df025"}},22:function(e,t,r){e.exports={ActiveQuiz:"ActiveQuiz__2a09f85",total:"total__c187f25",clock:"clock__8d157da",question:"question__79597cc",options:"options__a555ac8"}},29:function(e,t,r){e.exports={drawer:"drawer__5b7b229",open:"open__08d556b",active:"active__0245524"}},30:function(e,t,r){e.exports={input:"input__5e5098a",invalid:"invalid__021780c",errors:"errors__d596040"}},31:function(e,t,r){e.exports={quizCreator:"quizCreator__5124a10",count:"count__6d4f3b3",error:"error__3e60279"}},35:function(e,t,r){e.exports={MenuToggle:"MenuToggle__91ac8f9",close:"close__8edd694"}},38:function(e,t,r){e.exports={button:"button__f2b942d",success:"success__660beb2",error:"error__869b12a",delete:"delete__b679cf7",primary:"primary__d3b7749"}},39:function(e,t,r){e.exports={auth:"auth__4a48428",invalid:"invalid__e1639e3"}},40:function(e,t,r){e.exports={wrapper:"wrapper__bc355fe",loader:"loader__9e258ad",ripple:"ripple__6a73c20"}},41:function(e,t,r){e.exports={quizlist:"quizlist__d16839d",createQuiz:"createQuiz__3ed9300",flit:"flit__ebd957c"}},42:function(e,t,r){e.exports={item:"item__a652096",correct:"correct__9229c4c",incorrect:"incorrect__3668918"}},43:function(e,t,r){e.exports={Quiz:"Quiz__66602b1",wrapper:"wrapper__54ac7cd"}},56:function(e,t,r){e.exports={backdrop:"backdrop__631c0d8"}},58:function(e,t,r){e.exports={footer:"footer__e08bb71"}},59:function(e,t,r){e.exports={Layout:"Layout__80e8ce3"}},60:function(e,t,r){e.exports={select:"select__e305231"}},98:function(e,t,r){},99:function(e,t,r){"use strict";r.r(t);var n,a=r(0),o=r.n(a),i=r(25),u=r.n(i),c=r(11),s=r(4),l=r(33),p=r.n(l),f=r(15),d=r(55),m=r(5),v=r.n(m);!function(e){e.FETCH_START="FETCH_START",e.FETCH_QUIZ_LIST_SUCCESS="FETCH_QUIZ_LIST_SUCCESS",e.FETCH_QUIZ_SUCCESS="FETCH_QUIZ_SUCCESS",e.FETCH_ERROR="FETCH_ERROR",e.SET_QUIZ_NAME="SET_QUIZ_NAME",e.UPDATE_RESULTS="UPDATE_RESULTS",e.SET_QUIZ_TIME="SET_QUIZ_TIME",e.SHOW_RESULTS="SHOW_RESULTS",e.GOTO_NEXT_QUESTION="GOTO_NEXT_QUESTION",e.RESTART_QUIZ="RESTART_QUIZ",e.UPDATE_QUIZ="UPDATE_QUIZ",e.RESET_CREATOR="RESET_CREATOR",e.AUTH_SUCCESS="AUTH_SUCCESS",e.AUTH_SIGN_OUT="AUTH_SIGN_OUT"}(n||(n={}));var h=n;function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){v()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var E={isLoading:!1,quizList:[],error:null,quizName:null,quiz:[],current:0,answerStatus:null,completed:!1,results:[],time:0};var O=r(12),_=r.n(O);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){v()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var S={quiz:{name:"",items:[]}};function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){v()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var q={token:null};var j,C=Object(f.c)({quiz:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.FETCH_START:return y({},e,{isLoading:!0});case h.FETCH_QUIZ_LIST_SUCCESS:return y({},e,{quizList:t.quizList,isLoading:!1});case h.FETCH_QUIZ_SUCCESS:return y({},e,{quiz:t.quiz,isLoading:!1});case h.FETCH_ERROR:return y({},e,{quizList:[],isLoading:!1,error:t.error});case h.SET_QUIZ_NAME:return y({},e,{quizName:t.quizName});case h.UPDATE_RESULTS:return y({},e,{answerStatus:t.answerStatus,results:t.results});case h.GOTO_NEXT_QUESTION:return y({},e,{answerStatus:null,current:t.current});case h.SET_QUIZ_TIME:return y({},e,{time:t.time});case h.SHOW_RESULTS:return y({},e,{completed:!0});case h.RESTART_QUIZ:return y({},e,{current:0,answerStatus:null,completed:!1,results:[]});default:return e}},creator:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.UPDATE_QUIZ:return w({},e,{quiz:{name:t.name,items:[].concat(_()(e.quiz.items),[t.item])}});case h.RESET_CREATOR:return w({},e,{quiz:{name:"",items:[]}});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.AUTH_SUCCESS:return z({},e,{token:t.token});case h.AUTH_SIGN_OUT:return z({},e,{token:null});default:return e}}}),k="object"===("undefined"==typeof window?"undefined":p()(window))&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):f.d,R=Object(f.e)(C,k(Object(f.a)(d.a))),P=r(1),U=r.n(P),I=r(16),N=r(3),x=r.n(N),Q=r(6),A=r.n(Q),L=r(27),D=r.n(L);!function(e){e.APP_PREFIX="quiz-",e.SIGN_IN="signInWithPassword",e.SIGN_UP="signUp"}(j||(j={}));var M=function(e){return{type:h.AUTH_SUCCESS,token:e}},F=function(e){return function(){var t=A()(x.a.mark((function t(r){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:setTimeout((function(){r(H())}),1e3*e);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},H=function(){var e=j.APP_PREFIX;return localStorage.removeItem("".concat(e,"IdToken")),localStorage.removeItem("".concat(e,"userId")),localStorage.removeItem("".concat(e,"expires")),{type:h.AUTH_SIGN_OUT}},Z=r(23),V=r.n(Z),K=r(35),G=r.n(K),X=function(e){var t=e.toggleMenu,r=e.isOpen,n=[G.a.MenuToggle,"fa"];return r?n=[].concat(_()(n),["fa-times",G.a.close]):n.push("fa-bars"),o.a.createElement("i",{className:n.join(" "),onClick:t})};X.propTypes={toggleMenu:U.a.func.isRequired,isOpen:U.a.bool.isRequired};var B=X,W=r(56),J=r.n(W),$=function(e){var t=e.hideMenu;return o.a.createElement("div",{className:J.a.backdrop,onClick:t})};$.propTypes={hideMenu:U.a.func.isRequired};var Y=$,ee=r(29),te=r.n(ee),re=function(e){var t=e.isAuthorized,r=e.isOpen,n=e.hideMenu,a=[{to:"/",label:"Quiz List",exact:!0}];t?(a.push({to:"/creator",label:"Quiz Creator",exact:!1}),a.push({to:"/logout",label:"Log out",exact:!1})):a.push({to:"/auth",label:"Authorize",exact:!1});var i=[te.a.drawer];return r||i.push(te.a.open),o.a.createElement(o.a.Fragment,null,o.a.createElement("nav",{className:i.join(" ")},o.a.createElement("ul",null,a.map((function(e,t){return o.a.createElement("li",{key:t},o.a.createElement(c.c,{to:e.to,activeClassName:te.a.active,exact:e.exact,onClick:n},e.label))})))),r&&o.a.createElement(Y,{hideMenu:n}))};re.propTypes={isAuthorized:U.a.bool,isOpen:U.a.bool.isRequired,hideMenu:U.a.func.isRequired};var ne=re,ae=r(58),oe=r.n(ae);var ie=function(){return o.a.createElement("div",{className:oe.a.footer},o.a.createElement("span",null,"Created by Maryanco inc. © 2020. All lefts reserved."))},ue=r(59),ce=r.n(ue),se=function(e){var t=e.isAuthorized,r=e.children,n=Object(a.useState)(!1),i=V()(n,2),u=i[0],c=i[1];return o.a.createElement("div",{className:ce.a.Layout},o.a.createElement(ne,{isOpen:u,hideMenu:function(){return c(!1)},isAuthorized:t}),o.a.createElement(B,{toggleMenu:function(){return c(!u)},isOpen:u}),o.a.createElement("main",null,r),o.a.createElement(ie,null))};se.propTypes={isAuthorized:U.a.bool};var le=Object(s.b)((function(e){return{isAuthorized:Boolean(e.auth.token)}}))(se),pe=r(13),fe=r.n(pe),de=r(18),me=r.n(de),ve=r(19),he=r.n(ve),be=r(20),ye=r.n(be),Ee=r(21),Oe=r.n(Ee),_e=function(){function e(){fe()(this,e)}return me()(e,null,[{key:"required",value:function(e){return Boolean(e.trim())}},{key:"email",value:function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,3}))$/.test(e.toLowerCase())}},{key:"title",value:function(e){return/^[- a-zA-Zа-яА-яїЇіІєЄьЬ#№]+$/.test(e.toLowerCase())}},{key:"minLength",value:function(e){return function(t){return t.trim().length>=e}}},{key:"maxLength",value:function(e){return function(t){return t.trim().length<=e}}},{key:"pattern",value:function(e){return function(t){return e.test(String(t).toLowerCase())}}}]),e}(),ge=function(e){function t(e,r){var n;return fe()(this,t),(n=he()(this,ye()(t).call(this))).value="",n.touched=!1,n.untouched=!0,n.pristine=!0,n.dirty=!1,n.invalid=!1,n.valid=!r,n.errors={},n.id=e.id||"control".concat(Math.round(1e3*Math.random())),n.type=e.type||"text",n.label=e.label||"",n.placeholder=e.placeholder||"",n.error=e.error||null,n.validators=r,n.validate=function(){if(this.validators){this.touched=!0,this.untouched=!1,this.pristine=!this.value.length,this.dirty=Boolean(this.value.length);var e=!0,t=!0,r=!1,n=void 0;try{for(var a,o=this.validators[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var i=a.value;e=i(this.value)&&e,i(this.value)?this.errors[i.name]=!1:this.errors[i.name]=!0}}catch(e){r=!0,n=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw n}}this.valid=e,this.invalid=!e}else this.valid=!0},n}return Oe()(t,e),t}((function e(){fe()(this,e),this.validators=void 0,this.type=void 0,this.id=void 0,this.label=void 0,this.placeholder=void 0,this.error=void 0,this.value=void 0,this.touched=void 0,this.untouched=void 0,this.pristine=void 0,this.dirty=void 0,this.invalid=void 0,this.valid=void 0,this.errors=void 0,this.validate=void 0})),we=function(e){function t(e){var r;return fe()(this,t),(r=he()(this,ye()(t).call(this))).controls=e,r.valid=!0,r.invalid=!1,r.validate=function(){var t=!this._hasRepeatingValues(e);for(var r in this.controls)e.hasOwnProperty(r)&&(t=e[r].valid&&t);this.valid=t,this.invalid=!t},r}return Oe()(t,e),me()(t,[{key:"_hasRepeatingValues",value:function(){var e=new Set,t=Object.keys(this.controls).length;for(var r in this.controls)this.controls.hasOwnProperty(r)&&e.add(this.controls[r].value);return t!==e.size}}]),t}((function e(){fe()(this,e),this.controls=void 0,this.valid=void 0,this.invalid=void 0,this.validate=void 0})),Se=r(28),Te=r.n(Se),ze=r(30),qe=r.n(ze),je=function(e){var t=e.label,r=e.type,n=e.value,i=e.error,u=e.touched,c=e.valid,s=e.errors,l=e.shouldValidate,p=e.autoblur,f=e.autofocus,d=e.onChange,m=Te()(e,["label","type","value","error","touched","valid","errors","shouldValidate","autoblur","autofocus","onChange"]),v=Object(a.useRef)(null),h=r||"text",b=t?"".concat(h,"-").concat(Math.round(1e3*Math.random())):null,y=[qe.a.input],E=function(){return!c&&u&&l};return E()&&y.push(qe.a.invalid),Object(a.useEffect)((function(){p&&v.current.blur(),f&&v.current.focus()}),[]),o.a.createElement("div",{className:y.join(" ")},t&&o.a.createElement("label",{htmlFor:b},t),o.a.createElement("input",{ref:f||p?v:null,type:h,id:b,value:n,onChange:d,onKeyDown:m.onKeyDown||null,onKeyUp:m.onKeyUp||null,onKeyPress:m.onKeyPress||null,onFocus:m.onFocus||null,onBlur:m.onBlur||null}),i&&!s&&E()&&o.a.createElement("span",null,i),!i&&s&&o.a.createElement("ul",{className:qe.a.errors},Object.entries(s).map((function(e){return e[1]?o.a.createElement("li",{key:e[0]},e[0]):null}))))};je.propTypes={label:U.a.string,type:U.a.string,value:U.a.string.isRequired,error:U.a.string,touched:U.a.bool,untouched:U.a.bool,dirty:U.a.bool,pristine:U.a.bool,valid:U.a.bool,invalid:U.a.bool,shouldValidate:U.a.bool,errors:U.a.object,autoblur:U.a.bool,autofocus:U.a.bool,onChange:U.a.func.isRequired,onKeyDown:U.a.func,onKeyUp:U.a.func,onKeyPress:U.a.func,onFocus:U.a.func,onBlur:U.a.func};var Ce=je,ke=r(38),Re=r.n(ke);function Pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ue(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(r),!0).forEach((function(t){v()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ie=function(e){var t=e.style,r=e.disabled,n=e.onClick,a=e.children,i=Te()(e,["style","disabled","onClick","children"]),u=[Re.a.button,Re.a[i.type]];return o.a.createElement("button",{className:u.join(" "),style:Ue({},t),disabled:r,onClick:n,onMouseDown:i.onMouseDown||null,onMouseUp:i.onMouseUp||null},a)};Ie.propTypes={style:U.a.object,type:U.a.string,disabled:U.a.bool,onClick:U.a.func,onMouseDown:U.a.func,onMouseUp:U.a.func};var Ne=Ie,xe=r(39),Qe=r.n(xe),Ae=function(e){function t(){var e,r;fe()(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(r=he()(this,(e=ye()(t)).call.apply(e,[this].concat(a)))).state={form:r.createForm(),isFormValid:!1,isLoginInvalid:!1},r.input=o.a.createRef(),r.handleChange=function(e,t){var n=r.state.form,a=n.controls[t];a.value=e,a.validate(),n.validate(),r.setState({form:n,isLoginInvalid:!1,isFormValid:n.valid})},r.handleEnterKey=function(e){"Enter"===e.key&&r.loginHandler()},r.loginHandler=A()(x.a.mark((function e(){var t,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={email:r.state.form.controls.email.value,password:r.state.form.controls.password.value,action:j.SIGN_IN},e.prev=1,e.next=4,r.props.authUser(t);case 4:return(n=e.sent).status,e.abrupt("return",n);case 9:e.prev=9,e.t0=e.catch(1),r.setState({isLoginInvalid:!0});case 12:case"end":return e.stop()}}),e,null,[[1,9]])}))),r.registrationHandler=A()(x.a.mark((function e(){var t,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={email:r.state.form.controls.email.value,password:r.state.form.controls.password.value,action:j.SIGN_UP},e.prev=1,e.next=4,r.props.authUser(t);case 4:return(n=e.sent).status,e.abrupt("return",n);case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])}))),r}return Oe()(t,e),me()(t,[{key:"createForm",value:function(){return new we({email:new ge({type:"email",label:"Email",error:"Email is invalid"},[_e.required,_e.email,_e.maxLength(30)]),password:new ge({type:"password",label:"Password",error:"Password is invalid"},[_e.required,_e.minLength(6),_e.maxLength(20)])})}},{key:"render",value:function(){var e=this.state,t=e.isFormValid,r=e.isLoginInvalid;return o.a.createElement("div",{className:Qe.a.auth},o.a.createElement("div",null,o.a.createElement("h1",null,"Authorize"),o.a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},this.renderInputs(),o.a.createElement(Ne,{type:"success",onClick:this.loginHandler,disabled:!t},"Log in"),o.a.createElement(Ne,{type:"primary",onClick:this.registrationHandler,disabled:!t},"Register"),r&&o.a.createElement("span",{className:Qe.a.invalid},"Incorrect email or password"))))}},{key:"renderInputs",value:function(){var e=this,t=this.state.form.controls;return Object.keys(t).map((function(r,n){var a=t[r];return o.a.createElement(Ce,{key:r+n,type:a.type,label:a.label,value:a.value,touched:a.touched,valid:a.valid,error:a.error,shouldValidate:Boolean(a.validators),onChange:function(t){e.handleChange(t.target.value,r)},onKeyPress:e.handleEnterKey,autofocus:"email"===r})}))}}]),t}(a.Component);Ae.propTypes={authUser:U.a.func.isRequired};var Le=Object(s.b)(null,(function(e){return{authUser:function(t){return e(function(e){return function(){var t=A()(x.a.mark((function t(r){var n,a,o,i,u,c,s;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.a.post("https://identitytoolkit.googleapis.com/v1/accounts:".concat(e.action,"?key=AIzaSyBiPy_ZxHNmvqoORd_czjiS4dchO8TZR20"),{email:e.email,password:e.password,returnSecureToken:!0});case 2:if(200!==(n=t.sent).status){t.next=13;break}return a=n.data,o=a.idToken,i=a.localId,u=a.expiresIn,c=j.APP_PREFIX,s=String(new Date((new Date).getTime()+1e3*Number(u))),localStorage.setItem("".concat(c,"IdToken"),o),localStorage.setItem("".concat(c,"userId"),i),localStorage.setItem("".concat(c,"expires"),s),r(M(o)),r(F(Number(u))),t.abrupt("return",n);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(Ae),De=D.a.create({baseURL:"https://quiz-app-react-85b48.firebaseio.com/"}),Me=r(60),Fe=r.n(Me),He=function(e){var t=e.label,r=e.value,n=e.options,a=e.onChange,i="".concat(t,"-").concat(Math.round(1e3*Math.random()));return o.a.createElement("div",{className:Fe.a.select},o.a.createElement("label",{htmlFor:i},t),o.a.createElement("select",{id:i,value:r,onChange:a},n.map((function(e,t){return o.a.createElement("option",{key:e.value+t,value:e.value},e.text)}))))};He.propTypes={label:U.a.string,value:U.a.number.isRequired,options:U.a.array.isRequired,onChange:U.a.func.isRequired};var Ze,Ve,Ke,Ge=He,Xe=r(31),Be=r.n(Xe);function We(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Je(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?We(Object(r),!0).forEach((function(t){v()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):We(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var $e=Object(I.h)((Ke=Ve=function(e){function t(){var e,r;fe()(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=he()(this,(e=ye()(t)).call.apply(e,[this].concat(a)))).state={form:r.createForm(),correct:1,isFormValid:!1},r.addOption=function(){var e=r.createOption(r.optionsCount+1);r.state.form.controls["option".concat(r.optionsCount+1)]=e,r.setState(Je({},r.state))},r.removeOption=function(e){var t=r.state.form.controls;for(var n in t)t.hasOwnProperty(n)&&t[n].label===e&&delete t[n];r.setState(Je({},r.state))},r.handleChange=function(e,t){var n=r.state.form,a=n.controls[t];a.value=e,a.validate(),n.validate(),r.setState({form:n,isFormValid:n.valid})},r.handleSelect=function(e){r.setState({correct:Number(e.target.value)})},r.addQuestion=function(e){e.preventDefault();var t=r.state.form.controls,n=t.question,a=t.name,o=[];Object.entries(r.state.form.controls).filter((function(e){e[0].includes("option")&&o.push(e[1])}));var i=o.map((function(e){return{id:e.id,text:e.value}})),u={question:n.value,id:r.props.quiz.items.length+1,correct:r.state.correct,answers:i};r.props.updateQuiz(u,a.value),r.resetState()},r.createQuiz=function(){var e=A()(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,r.props.uploadQuiz();case 3:return"OK"!==(n=e.sent).statusText&&200!==n.status||(r.resetState(),r.props.history.push("/")),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r}return Oe()(t,e),me()(t,[{key:"createForm",value:function(){return new we({name:new ge(Je({},this.quizName),[_e.required,_e.title,_e.minLength(10),_e.maxLength(25)]),question:new ge({label:"Question"},[_e.required,_e.minLength(20),_e.maxLength(100)]),option1:this.createOption(1),option2:this.createOption(2)})}},{key:"createOption",value:function(e){return new ge({id:e,label:"Answer ".concat(e)},[_e.required,_e.maxLength(50)])}},{key:"render",value:function(){var e=this.state,t=e.correct,r=e.isFormValid,n=this.props.quiz.items;return o.a.createElement("div",{className:Be.a.quizCreator},o.a.createElement("div",null,o.a.createElement("h1",null,"Quiz creation"),o.a.createElement("div",{className:Be.a.count},"Questions: ",n.length),o.a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},this.renderInputs(),o.a.createElement(Ge,{label:"Provide the correct answer",value:t,options:[{text:1,value:1},{text:2,value:2},{text:3,value:3},{text:4,value:4}],onChange:this.handleSelect}),o.a.createElement(Ne,{type:"primary",disabled:!r,onClick:this.addQuestion},"Add question"),o.a.createElement(Ne,{type:"success",disabled:!this.props.quiz.items.length,onClick:this.createQuiz},"Create quiz"),o.a.createElement(Ne,{type:"primary",onClick:this.addOption,disabled:this.optionsCount>=5},"Add option"),!r&&o.a.createElement("div",{className:Be.a.error},"Empty or repeating fields"))))}},{key:"renderInputs",value:function(){var e=this,t=this.state.form.controls;return Object.keys(t).map((function(r,n){var a=t[r];return o.a.createElement(o.a.Fragment,{key:n},o.a.createElement("div",{style:{position:"relative"}},o.a.createElement(Ce,{label:a.label,value:a.value,touched:a.touched,valid:a.valid,shouldValidate:Boolean(a.validators),error:a.error,errors:a.errors,onChange:function(t){e.handleChange(t.target.value,r)},autofocus:"question"===r}),a.label.includes("Answer")&&o.a.createElement(Ne,{type:"delete",onMouseDown:function(){return e.removeOption(a.label)}},"×")),1===n&&o.a.createElement("hr",null))}))}},{key:"resetState",value:function(){this.setState({correct:1,isFormValid:!1,form:this.createForm()})}},{key:"optionsCount",get:function(){var e=this.state.form.controls;return Object.keys(e).filter((function(e){return e.includes("option")})).length}},{key:"quizName",get:function(){var e={label:"Provide the quiz name"};return this.state&&(e.value=this.state.form.controls.name.value,e.touched=!0,e.valid=!0),e}}]),t}(a.Component),Ve.propTypes={quiz:U.a.object.isRequired,updateQuiz:U.a.func.isRequired,uploadQuiz:U.a.func.isRequired},Ze=Ke))||Ze,Ye=Object(s.b)((function(e){return{quiz:e.creator.quiz}}),(function(e){return{updateQuiz:function(t,r){return e(function(e,t){return{type:h.UPDATE_QUIZ,item:e,name:t}}(t,r))},uploadQuiz:function(){return e(function(){var e=A()(x.a.mark((function e(t,r){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,De.post("quiz.json",r().creator.quiz);case 3:return"OK"===(n=e.sent).statusText&&t({type:h.RESET_CREATOR}),e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r){return e.apply(this,arguments)}}())}}}))($e),et=function(e){for(var t=e.length-1;t>0;t--){var r=Math.floor(Math.random()*(t+1)),n=[e[r],e[t]];e[t]=n[0],e[r]=n[1]}return e},tt=function(){return{type:h.FETCH_START}},rt=function(e){return{type:h.FETCH_QUIZ_LIST_SUCCESS,quizList:e}},nt=function(e){return{type:h.FETCH_QUIZ_SUCCESS,quiz:e}},at=function(e,t){return{type:h.UPDATE_RESULTS,answerStatus:e,results:t}},ot=function(e){return{type:h.GOTO_NEXT_QUESTION,current:e}},it=function(){return{type:h.SHOW_RESULTS}},ut=r(40),ct=r.n(ut);var st=function(){return o.a.createElement("div",{className:ct.a.wrapper},o.a.createElement("div",{className:ct.a.loader},o.a.createElement("div",null),o.a.createElement("div",null)))},lt=r(41),pt=r.n(lt),ft=function(e){var t=e.isLoading,r=e.quizList,n=e.fetchQuizes,i=e.setQuizName;return Object(a.useEffect)((function(){n()}),[]),o.a.createElement("div",{className:pt.a.quizlist},o.a.createElement("div",null,o.a.createElement("h1",null,"Quiz list"),t&&o.a.createElement(st,null),!t&&o.a.createElement("ul",null,r.map((function(e){return o.a.createElement("li",{key:e.id},o.a.createElement(c.c,{to:"/quiz/".concat(e.id),onClick:function(){return i(e.name)}},e.name))}))),!t&&!r.length&&o.a.createElement(c.b,{to:"/creator",className:pt.a.createQuiz},"Create quiz")))};ft.propTypes={isLoading:U.a.bool.isRequired,quizList:U.a.array.isRequired,fetchQuizes:U.a.func.isRequired,setQuizName:U.a.func.isRequired};var dt=Object(s.b)((function(e){return{isLoading:e.quiz.isLoading,quizList:e.quiz.quizList}}),(function(e){return{fetchQuizes:function(){return e(function(){var e=A()(x.a.mark((function e(t){var r,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(tt()),e.prev=1,e.next=4,De.get("quiz.json");case 4:if(200!==(r=e.sent).status){e.next=9;break}return n=Object.entries(r.data).map((function(e){var t=V()(e,2);return{id:t[0],name:t[1].name}})),t(rt(n)),e.abrupt("return",r);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t((a=e.t0,{type:h.FETCH_ERROR,error:a}));case 14:case"end":return e.stop()}var a}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}())},setQuizName:function(t){return e((r=t,{type:h.SET_QUIZ_NAME,quizName:r}));var r}}}))(ft),mt=r(42),vt=r.n(mt),ht=function(e){var t=e.answer,r=e.status,n=e.onAnswerClick,a=[vt.a.item];return r&&a.push(vt.a[r]),o.a.createElement("li",{className:a.join(" "),onClick:function(){return n(t.id)}},t.text)};ht.propTypes={onAnswerClick:U.a.func.isRequired,answer:U.a.exact({id:U.a.number,text:U.a.string}),status:U.a.string};var bt=ht,yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=parseInt(String(e),10),r=Math.floor(t/3600),n=Math.floor((t-3600*r)/60);return t=t-3600*r-60*n,n<10&&(n="0".concat(n)),t<10&&(t="0".concat(t)),"".concat(n,":").concat(t)};function Et(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ot(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Et(Object(r),!0).forEach((function(t){v()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Et(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _t=function(e){var t=e.className,r=e.style,n=e.time,i=e.setQuizTime,u=Object(a.useState)(n||0),c=V()(u,2),s=c[0],l=c[1];return Object(a.useEffect)((function(){var e=setInterval((function(){l(s+1)}),1e3);return function(){clearInterval(e),i(s)}})),o.a.createElement("div",{className:t||"",style:Ot({},r)},yt(s))};_t.propTypes={className:U.a.string,style:U.a.object,time:U.a.number};var gt=Object(s.b)(null,(function(e){return{setQuizTime:function(t){return e(function(e){return{type:h.SET_QUIZ_TIME,time:e}}(t))}}}))(_t),wt=r(22),St=r.n(wt),Tt=r(97)(),zt=function(e){var t=e.current,r=e.total,n=e.question,i=e.answers,u=e.status,c=e.onAnswerClick,s=Object(a.useRef)(null);return o.a.createElement("div",{className:St.a.ActiveQuiz},o.a.createElement("div",{className:St.a.question},o.a.createElement("span",null,n),o.a.createElement("small",{className:St.a.clock},o.a.createElement(gt,{className:St.a.clock})),o.a.createElement("small",{className:St.a.total},t," / ",r)),o.a.createElement("ul",{className:St.a.options},function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return u?u&&(e=_()(s.current)):(e=Tt(et(t)),s.current=_()(e)),e}().map((function(e,t){return o.a.createElement(bt,{key:t,answer:e,onAnswerClick:c,status:u?u[e.id]:null})}))))};zt.propTypes={current:U.a.number.isRequired,total:U.a.number.isRequired,question:U.a.string.isRequired,answers:U.a.array.isRequired,onAnswerClick:U.a.func.isRequired,status:U.a.object};var qt=zt,jt=r(17),Ct=r.n(jt),kt=function(e){var t=e.quiz,r=e.results,n=e.time,a=e.restartQuiz,i=Object(I.g)();return o.a.createElement("div",{className:Ct.a.CompletedQuiz},o.a.createElement("ul",{className:Ct.a.results},o.a.createElement("li",{className:Ct.a.result},"Score: ",o.a.createElement("b",null,(r.filter((function(e){return"correct"===e})).length/t.length*100).toFixed(2),"%")),o.a.createElement("li",{className:Ct.a.result},"Time: ",o.a.createElement("b",null,yt(n))),o.a.createElement("li",{className:Ct.a.result},"Answer AVG: ",o.a.createElement("b",null,yt(Math.round(n/r.length))))),o.a.createElement("ul",null,t.map((function(e,t){return o.a.createElement(o.a.Fragment,{key:t},o.a.createElement("li",null,o.a.createElement("strong",null,t+1,". "),e.question,o.a.createElement("i",{className:"fa ".concat("correct"===r[t]?"fa-check ".concat(Ct.a.correct):"fa-times ".concat(Ct.a.incorrect))})),o.a.createElement("hr",null))}))),o.a.createElement(Ne,{onClick:a,type:"success"},"Try again"),o.a.createElement(Ne,{onClick:function(){return i.push("/")},type:"primary"},"Quiz list"))};kt.propTypes={quiz:U.a.array.isRequired,results:U.a.array.isRequired,restartQuiz:U.a.func};var Rt=Object(s.b)((function(e){return{time:e.quiz.time}}),null)(kt),Pt=r(43),Ut=r.n(Pt),It=function(e){var t=e.isLoading,r=e.quiz,n=e.quizName,i=e.fetchQuiz,u=e.restartQuiz,c=e.onAnswerClick,s=e.answerStatus,l=e.current,p=e.completed,f=e.results,d=e.match;return Object(a.useEffect)((function(){return i(d.params.id),function(){return u()}}),[]),o.a.createElement("div",{className:Ut.a.Quiz},o.a.createElement("div",{className:Ut.a.wrapper},o.a.createElement("h1",null,n||"Quiz"),t&&o.a.createElement(st,null),!t&&!p&&r.length&&o.a.createElement(qt,{current:l+1,total:r.length,question:r[l].question,answers:r[l].answers,onAnswerClick:c,status:s}),!t&&p&&o.a.createElement(Rt,{quiz:r,results:f,restartQuiz:u})))};It.propTypes={isLoading:U.a.bool.isRequired,quizName:U.a.string,quiz:U.a.array.isRequired,current:U.a.number.isRequired,answerStatus:U.a.object,completed:U.a.bool.isRequired,results:U.a.array.isRequired,fetchQuiz:U.a.func.isRequired,onAnswerClick:U.a.func.isRequired,restartQuiz:U.a.func.isRequired};var Nt=Object(s.b)((function(e){return{isLoading:e.quiz.isLoading,quizName:e.quiz.quizName,quiz:e.quiz.quiz,current:e.quiz.current,answerStatus:e.quiz.answerStatus,completed:e.quiz.completed,results:e.quiz.results}}),(function(e){return{fetchQuiz:function(t){return e(function(e){return function(){var t=A()(x.a.mark((function t(r){var n,a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(tt()),t.prev=1,t.next=4,De.get("quiz/".concat(e,".json"));case 4:if(200!==(n=t.sent).status){t.next=9;break}return a=et(n.data.items),r(nt(a)),t.abrupt("return",n);case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),console.error(t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()}(t))},onAnswerClick:function(t){return e(function(e){return function(){var t=A()(x.a.mark((function t(r,n){var a,o;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=n().quiz,o=window.setTimeout((function(){if(a.current+1===a.quiz.length)r(it());else if(a.answerStatus){var e=Object.keys(a.answerStatus)[0];if("correct"===a.answerStatus[e])return}else r(ot(a.current+1));window.clearTimeout(o)}),750),a.quiz[a.current].correct===e?r(at(v()({},e,"correct"),[].concat(_()(a.results),["correct"]))):r(at(v()({},e,"incorrect"),[].concat(_()(a.results),["incorrect"])));case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},restartQuiz:function(){return e({type:h.RESTART_QUIZ})}}}))(It),xt=function(e){var t=e.logOut;return Object(a.useEffect)((function(){t()}),[]),o.a.createElement(I.a,{to:"/"})};xt.propTypes={logOut:U.a.func.isRequired};var Qt=Object(s.b)(null,(function(e){return{logOut:function(){return e(H())}}}))(xt),At=function(e){var t=e.isAuthorized,r=e.autoLogin;return Object(a.useEffect)((function(){r()}),[]),o.a.createElement(le,null,o.a.createElement(I.d,null,!t&&o.a.createElement(I.b,{path:"/auth",component:Le}),t&&o.a.createElement(I.b,{path:"/creator",component:Ye}),o.a.createElement(I.b,{path:"/quiz/:id",component:Nt}),o.a.createElement(I.b,{path:"/",component:dt,exact:!0}),t&&o.a.createElement(I.b,{path:"/logout",component:Qt}),o.a.createElement(I.a,{to:"/"})))};At.propTypes={isAuthorized:U.a.bool.isRequired,autoLogin:U.a.func.isRequired};var Lt=Object(I.h)(Object(s.b)((function(e){return{isAuthorized:!!e.auth.token}}),(function(e){return{autoLogin:function(){return e(function(){var e=A()(x.a.mark((function e(t){var r,n,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=j.APP_PREFIX,(n=localStorage.getItem("".concat(r,"IdToken")))?(a=new Date(localStorage.getItem("".concat(r,"expires"))))<=new Date?t(H()):(t(M(n)),t(F((Number(a.getTime())-(new Date).getTime())/1e3))):t(H());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}}))(At)),Dt=(r(98),o.a.createElement(s.a,{store:R},o.a.createElement(c.a,null,o.a.createElement(Lt,null))));u.a.render(Dt,document.querySelector("#root"))}});